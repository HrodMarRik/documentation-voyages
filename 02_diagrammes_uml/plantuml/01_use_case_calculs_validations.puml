@startuml UseCaseDiagram_CalculsValidations
!theme plain
skinparam linetype ortho

left to right direction

actor Commercial
actor Système

package "Calculs de Prix" {
    usecase "Calculer prix transport\nFonction: calculate_transport_price" as UC1
    usecase "Calculer prix activités\nFonction: calculate_activities_price" as UC2
    usecase "Calculer prix hébergement\nFonction: calculate_lodging_price" as UC3
    usecase "Calculer prix de base\nFonction: calculate_base_price" as UC4
    usecase "Calculer réductions\nFonction: calculate_participant_discount\nFonction: is_early_bird" as UC5
    usecase "Calculer prix final\nFonction: calculate_final_travel_price" as UC6
}

package "Validations" {
    usecase "Valider génération devis\nFonction: can_generate_quote" as UC7
    usecase "Valider génération facture\nFonction: can_generate_invoice" as UC8
    usecase "Valider planning\nFonction: is_planning_valid" as UC9
    usecase "Valider contacts parents\nFonction: are_all_parent_contacts_collected" as UC10
}

' Relations Commercial
Commercial --> UC1
Commercial --> UC2
Commercial --> UC3
Commercial --> UC4
Commercial --> UC5
Commercial --> UC6
Commercial --> UC7
Commercial --> UC8
Commercial --> UC9
Commercial --> UC10

' Relations Système
Système --> UC1
Système --> UC2
Système --> UC3
Système --> UC4
Système --> UC5
Système --> UC6

' Dépendances entre calculs
UC1 ..> UC4 : <<include>>
UC2 ..> UC4 : <<include>>
UC3 ..> UC4 : <<include>>
UC4 ..> UC6 : <<include>>
UC5 ..> UC6 : <<include>>

' Dépendances calculs -> validations
UC6 ..> UC7 : <<include>>
UC6 ..> UC8 : <<include>>

@enduml
