@startuml
!theme plain

' NOTE: Diagramme Mermaid - conversion manuelle nécessaire
' sequenceDiagram
'     actor Commercial
'     participant API as API Backend
'     participant Planning as Service Planning
'     participant DB as Base de Données
'     
'     Commercial->>API: POST /api/program-templates/generate<br/>(travel_id)
'     activate API
'     
'     API->>DB: Récupérer Travel + Destinations
'     activate DB
'     DB-->>API: Travel data
'     deactivate DB
'     
'     API->>Planning: Générer planning préconstruit
'     activate Planning
'     Planning->>DB: Récupérer activités par destination
'     activate DB
'     DB-->>Planning: Liste activités
'     deactivate DB
'     Planning->>Planning: Calculer jours<br/>Distribuer activités
'     Planning-->>API: ProgramTemplate créé
'     deactivate Planning
'     
'     API->>DB: Sauvegarder ProgramTemplate
'     activate DB
'     DB-->>API: Template sauvegardé
'     deactivate DB
'     
'     API->>DB: Créer ProgramTemplateActivity<br/>(pour chaque activité)
'     activate DB
'     DB-->>API: Activités liées
'     deactivate DB
'     
'     API-->>Commercial: 201 Created (program_template)
'     deactivate API

@enduml